{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Outlet,useNavigate,useLocation,NavLink}from'react-router-dom';import{useAuth}from'../context/AuthContext';import ProfileDropdown from'./ProfileDropdown';import'./DashboardLayout.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function DashboardLayout(){const{user}=useAuth();const navigate=useNavigate();const location=useLocation();const[sidebarOpen,setSidebarOpen]=useState(true);useEffect(()=>{if(!user)return;if((location.pathname==='/dashboard'||location.pathname==='/dashboard/')&&user.role==='admin'){navigate('/admin/subjects',{replace:true});}else if((location.pathname==='/dashboard'||location.pathname==='/dashboard/')&&user.role==='teacher'){navigate('/teacher/questions',{replace:true});}},[user,location.pathname,navigate]);const studentNav=[{to:'/dashboard',label:'Home',icon:'üè†',end:true},{to:'/dashboard/assessments',label:'My Assessments',icon:'üìù',end:false},{to:'/dashboard/reports',label:'Reports',icon:'üìä',end:false},{to:'/dashboard/course',label:'My Course',icon:'üéì',end:false}];const adminNav=[{to:'/admin/subjects',label:'Subjects',icon:'üìö',end:true},{to:'/admin/users',label:'Users',icon:'üë•',end:false}];const teacherNav=[{to:'/teacher/questions',label:'Questions',icon:'‚ùì',end:true}];const nav=(user===null||user===void 0?void 0:user.role)==='admin'?adminNav:(user===null||user===void 0?void 0:user.role)==='teacher'?teacherNav:studentNav;const base=(user===null||user===void 0?void 0:user.role)==='admin'?'/admin/subjects':(user===null||user===void 0?void 0:user.role)==='teacher'?'/teacher/questions':'/dashboard';return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-layout\",children:[/*#__PURE__*/_jsxs(\"aside\",{className:\"sidebar \".concat(sidebarOpen?'open':'closed'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-brand\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sidebar-logo\",children:\"\\u25C9\"}),/*#__PURE__*/_jsx(\"span\",{className:\"sidebar-title\",children:\"Cognitive Assessment\"})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"sidebar-nav\",children:nav.map(_ref=>{let{to,label,end}=_ref;return/*#__PURE__*/_jsxs(NavLink,{to:to,end:end,className:_ref2=>{let{isActive}=_ref2;return\"sidebar-link \".concat(isActive?'active':'');},children:[/*#__PURE__*/_jsx(\"span\",{className:\"sidebar-icon\",children:icon}),/*#__PURE__*/_jsx(\"span\",{className:\"sidebar-text\",children:label})]},to);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-wrap\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"menu-btn\",onClick:()=>setSidebarOpen(!sidebarOpen),\"aria-label\":\"Toggle menu\",children:\"\\u2630\"}),/*#__PURE__*/_jsx(\"div\",{className:\"header-spacer\"}),/*#__PURE__*/_jsx(ProfileDropdown,{})]}),/*#__PURE__*/_jsx(\"main\",{className:\"dashboard-main\",children:/*#__PURE__*/_jsx(Outlet,{})})]})]});}","map":{"version":3,"names":["React","useState","useEffect","Outlet","useNavigate","useLocation","NavLink","useAuth","ProfileDropdown","jsx","_jsx","jsxs","_jsxs","DashboardLayout","user","navigate","location","sidebarOpen","setSidebarOpen","pathname","role","replace","studentNav","to","label","icon","end","adminNav","teacherNav","nav","base","className","children","concat","map","_ref","_ref2","isActive","type","onClick"],"sources":["C:/Users/imaya/OneDrive/Desktop/project 2/client/src/components/DashboardLayout.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Outlet, useNavigate, useLocation, NavLink } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport ProfileDropdown from './ProfileDropdown';\r\nimport './DashboardLayout.css';\r\n\r\nexport default function DashboardLayout() {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [sidebarOpen, setSidebarOpen] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!user) return;\r\n    if ((location.pathname === '/dashboard' || location.pathname === '/dashboard/') && user.role === 'admin') {\r\n      navigate('/admin/subjects', { replace: true });\r\n    } else if ((location.pathname === '/dashboard' || location.pathname === '/dashboard/') && user.role === 'teacher') {\r\n      navigate('/teacher/questions', { replace: true });\r\n    }\r\n  }, [user, location.pathname, navigate]);\r\n\r\n  const studentNav = [\r\n    { to: '/dashboard', label: 'Home', icon: 'üè†', end: true },\r\n    { to: '/dashboard/assessments', label: 'My Assessments', icon: 'üìù', end: false },\r\n    { to: '/dashboard/reports', label: 'Reports', icon: 'üìä', end: false },\r\n    { to: '/dashboard/course', label: 'My Course', icon: 'üéì', end: false },\r\n  ];\r\n\r\n  const adminNav = [\r\n    { to: '/admin/subjects', label: 'Subjects', icon: 'üìö', end: true },\r\n    { to: '/admin/users', label: 'Users', icon: 'üë•', end: false },\r\n  ];\r\n\r\n  const teacherNav = [\r\n    { to: '/teacher/questions', label: 'Questions', icon: '‚ùì', end: true },\r\n  ];\r\n\r\n  const nav = user?.role === 'admin' ? adminNav : user?.role === 'teacher' ? teacherNav : studentNav;\r\n  const base = user?.role === 'admin' ? '/admin/subjects' : user?.role === 'teacher' ? '/teacher/questions' : '/dashboard';\r\n\r\n  return (\r\n    <div className=\"dashboard-layout\">\r\n      <aside className={`sidebar ${sidebarOpen ? 'open' : 'closed'}`}>\r\n        <div className=\"sidebar-brand\">\r\n          <span className=\"sidebar-logo\">‚óâ</span>\r\n          <span className=\"sidebar-title\">Cognitive Assessment</span>\r\n        </div>\r\n        <nav className=\"sidebar-nav\">\r\n          {nav.map(({ to, label, end }) => (\r\n            <NavLink\r\n              key={to}\r\n              to={to}\r\n              end={end}\r\n              className={({ isActive }) => `sidebar-link ${isActive ? 'active' : ''}`}\r\n            >\r\n              <span className=\"sidebar-icon\">{icon}</span>\r\n              <span className=\"sidebar-text\">{label}</span>\r\n            </NavLink>\r\n          ))}\r\n        </nav>\r\n      </aside>\r\n      <div className=\"main-wrap\">\r\n        <header className=\"dashboard-header\">\r\n          <button type=\"button\" className=\"menu-btn\" onClick={() => setSidebarOpen(!sidebarOpen)} aria-label=\"Toggle menu\">\r\n            ‚ò∞\r\n          </button>\r\n          <div className=\"header-spacer\" />\r\n          <ProfileDropdown />\r\n        </header>\r\n        <main className=\"dashboard-main\">\r\n          <Outlet />\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}