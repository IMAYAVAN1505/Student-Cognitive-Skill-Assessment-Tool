{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import api from'../api';import'./MyAssessments.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function MyAssessments(){const[assessments,setAssessments]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{api.get('/assessments').then(res=>{const assessmentsWithQuestions=(res.data||[]).filter(a=>a.questions&&Array.isArray(a.questions)&&a.questions.length>0);setAssessments(assessmentsWithQuestions);}).catch(()=>setAssessments([])).finally(()=>setLoading(false));},[]);if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"page-loading\",children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"my-assessments\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"My Assessments\"}),/*#__PURE__*/_jsx(\"p\",{className:\"page-desc\",children:\"Available tests by subject. Click Start to attempt. Only teachers can add questions; you can only take tests.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"assessments-grid\",children:assessments.length?assessments.map(a=>{var _a$subject,_a$questions;return/*#__PURE__*/_jsxs(\"div\",{className:\"assessment-card card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:a.title}),/*#__PURE__*/_jsx(\"p\",{className:\"assessment-meta\",children:(_a$subject=a.subject)===null||_a$subject===void 0?void 0:_a$subject.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"assessment-questions\",children:[((_a$questions=a.questions)===null||_a$questions===void 0?void 0:_a$questions.length)||0,\" questions \\u2022 \",a.durationMinutes||30,\" min\"]}),/*#__PURE__*/_jsx(Link,{to:\"/dashboard/test/\".concat(a._id),className:\"btn btn-primary btn-sm\",children:\"Start Test\"})]},a._id);}):/*#__PURE__*/_jsxs(\"div\",{className:\"no-data-block\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"no-data\",children:\"No assessments available yet.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"no-data-hint\",children:\"Assessments are created by your institution. Teachers add questions; you can only view and take tests here. Check back later.\"})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","Link","api","jsx","_jsx","jsxs","_jsxs","MyAssessments","assessments","setAssessments","loading","setLoading","get","then","res","assessmentsWithQuestions","data","filter","a","questions","Array","isArray","length","catch","finally","className","children","map","_a$subject","_a$questions","title","subject","name","durationMinutes","to","concat","_id"],"sources":["C:/Users/imaya/OneDrive/Desktop/project 2/client/src/pages/MyAssessments.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../api';\r\nimport './MyAssessments.css';\r\n\r\nexport default function MyAssessments() {\r\n  const [assessments, setAssessments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    api.get('/assessments')\r\n      .then(res => {\r\n        const assessmentsWithQuestions = (res.data || []).filter(a => \r\n          a.questions && Array.isArray(a.questions) && a.questions.length > 0\r\n        );\r\n        setAssessments(assessmentsWithQuestions);\r\n      })\r\n      .catch(() => setAssessments([]))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  if (loading) return <div className=\"page-loading\">Loading...</div>;\r\n\r\n  return (\r\n    <div className=\"my-assessments\">\r\n      <h1 className=\"page-title\">My Assessments</h1>\r\n      <p className=\"page-desc\">Available tests by subject. Click Start to attempt. Only teachers can add questions; you can only take tests.</p>\r\n      <div className=\"assessments-grid\">\r\n        {assessments.length ? assessments.map((a) => (\r\n          <div key={a._id} className=\"assessment-card card\">\r\n            <h3>{a.title}</h3>\r\n            <p className=\"assessment-meta\">{a.subject?.name}</p>\r\n            <p className=\"assessment-questions\">{a.questions?.length || 0} questions â€¢ {a.durationMinutes || 30} min</p>\r\n            <Link to={`/dashboard/test/${a._id}`} className=\"btn btn-primary btn-sm\">Start Test</Link>\r\n          </div>\r\n        )) : (\r\n          <div className=\"no-data-block\">\r\n            <p className=\"no-data\">No assessments available yet.</p>\r\n            <p className=\"no-data-hint\">Assessments are created by your institution. Teachers add questions; you can only view and take tests here. Check back later.</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}