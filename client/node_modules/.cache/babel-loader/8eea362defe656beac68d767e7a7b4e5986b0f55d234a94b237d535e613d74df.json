{"ast":null,"code":"import React,{useState,useEffect}from'react';import api from'../api';import'./Reports.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Reports(){const[results,setResults]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{api.get('/results/my-results').then(res=>setResults(res.data)).catch(()=>setResults([])).finally(()=>setLoading(false));},[]);if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"page-loading\",children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"reports-page\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Reports\"}),/*#__PURE__*/_jsx(\"p\",{className:\"page-desc\",children:\"Your assessment history and scores.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"reports-table-wrap card\",children:results.length?/*#__PURE__*/_jsxs(\"table\",{className:\"reports-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Assessment\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Score\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:results.map(r=>{var _r$subject,_r$assessment;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:(_r$subject=r.subject)===null||_r$subject===void 0?void 0:_r$subject.name}),/*#__PURE__*/_jsx(\"td\",{children:(_r$assessment=r.assessment)===null||_r$assessment===void 0?void 0:_r$assessment.title}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[r.percentage,\"%\"]}),\" (\",r.score,\"/\",r.totalQuestions,\")\"]}),/*#__PURE__*/_jsx(\"td\",{children:new Date(r.completedAt).toLocaleString()})]},r._id);})})]}):/*#__PURE__*/_jsx(\"p\",{className:\"no-data\",children:\"No results yet. Take an assessment from My Assessments.\"})})]});}","map":{"version":3,"names":["React","useState","useEffect","api","jsx","_jsx","jsxs","_jsxs","Reports","results","setResults","loading","setLoading","get","then","res","data","catch","finally","className","children","length","map","r","_r$subject","_r$assessment","subject","name","assessment","title","percentage","score","totalQuestions","Date","completedAt","toLocaleString","_id"],"sources":["C:/Users/imaya/OneDrive/Desktop/project 2/client/src/pages/Reports.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from '../api';\r\nimport './Reports.css';\r\n\r\nexport default function Reports() {\r\n  const [results, setResults] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    api.get('/results/my-results')\r\n      .then(res => setResults(res.data))\r\n      .catch(() => setResults([]))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  if (loading) return <div className=\"page-loading\">Loading...</div>;\r\n\r\n  return (\r\n    <div className=\"reports-page\">\r\n      <h1 className=\"page-title\">Reports</h1>\r\n      <p className=\"page-desc\">Your assessment history and scores.</p>\r\n      <div className=\"reports-table-wrap card\">\r\n        {results.length ? (\r\n          <table className=\"reports-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Subject</th>\r\n                <th>Assessment</th>\r\n                <th>Score</th>\r\n                <th>Date</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {results.map((r) => (\r\n                <tr key={r._id}>\r\n                  <td>{r.subject?.name}</td>\r\n                  <td>{r.assessment?.title}</td>\r\n                  <td><strong>{r.percentage}%</strong> ({r.score}/{r.totalQuestions})</td>\r\n                  <td>{new Date(r.completedAt).toLocaleString()}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        ) : (\r\n          <p className=\"no-data\">No results yet. Take an assessment from My Assessments.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,QAAQ,CACxB,MAAO,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvB,cAAe,SAAS,CAAAC,OAAOA,CAAA,CAAG,CAChC,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACdC,GAAG,CAACU,GAAG,CAAC,qBAAqB,CAAC,CAC3BC,IAAI,CAACC,GAAG,EAAIL,UAAU,CAACK,GAAG,CAACC,IAAI,CAAC,CAAC,CACjCC,KAAK,CAAC,IAAMP,UAAU,CAAC,EAAE,CAAC,CAAC,CAC3BQ,OAAO,CAAC,IAAMN,UAAU,CAAC,KAAK,CAAC,CAAC,CACrC,CAAC,CAAE,EAAE,CAAC,CAEN,GAAID,OAAO,CAAE,mBAAON,IAAA,QAAKc,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,YAAU,CAAK,CAAC,CAElE,mBACEb,KAAA,QAAKY,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3Bf,IAAA,OAAIc,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,cACvCf,IAAA,MAAGc,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,qCAAmC,CAAG,CAAC,cAChEf,IAAA,QAAKc,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CACrCX,OAAO,CAACY,MAAM,cACbd,KAAA,UAAOY,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC9Bf,IAAA,UAAAe,QAAA,cACEb,KAAA,OAAAa,QAAA,eACEf,IAAA,OAAAe,QAAA,CAAI,SAAO,CAAI,CAAC,cAChBf,IAAA,OAAAe,QAAA,CAAI,YAAU,CAAI,CAAC,cACnBf,IAAA,OAAAe,QAAA,CAAI,OAAK,CAAI,CAAC,cACdf,IAAA,OAAAe,QAAA,CAAI,MAAI,CAAI,CAAC,EACX,CAAC,CACA,CAAC,cACRf,IAAA,UAAAe,QAAA,CACGX,OAAO,CAACa,GAAG,CAAEC,CAAC,OAAAC,UAAA,CAAAC,aAAA,oBACblB,KAAA,OAAAa,QAAA,eACEf,IAAA,OAAAe,QAAA,EAAAI,UAAA,CAAKD,CAAC,CAACG,OAAO,UAAAF,UAAA,iBAATA,UAAA,CAAWG,IAAI,CAAK,CAAC,cAC1BtB,IAAA,OAAAe,QAAA,EAAAK,aAAA,CAAKF,CAAC,CAACK,UAAU,UAAAH,aAAA,iBAAZA,aAAA,CAAcI,KAAK,CAAK,CAAC,cAC9BtB,KAAA,OAAAa,QAAA,eAAIb,KAAA,WAAAa,QAAA,EAASG,CAAC,CAACO,UAAU,CAAC,GAAC,EAAQ,CAAC,KAAE,CAACP,CAAC,CAACQ,KAAK,CAAC,GAAC,CAACR,CAAC,CAACS,cAAc,CAAC,GAAC,EAAI,CAAC,cACxE3B,IAAA,OAAAe,QAAA,CAAK,GAAI,CAAAa,IAAI,CAACV,CAAC,CAACW,WAAW,CAAC,CAACC,cAAc,CAAC,CAAC,CAAK,CAAC,GAJ5CZ,CAAC,CAACa,GAKP,CAAC,EACN,CAAC,CACG,CAAC,EACH,CAAC,cAER/B,IAAA,MAAGc,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,yDAAuD,CAAG,CAClF,CACE,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}