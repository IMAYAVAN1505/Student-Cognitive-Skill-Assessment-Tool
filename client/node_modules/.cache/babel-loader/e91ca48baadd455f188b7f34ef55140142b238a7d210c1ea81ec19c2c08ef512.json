{"ast":null,"code":"import React from'react';import{Routes,Route,Navigate}from'react-router-dom';import{useAuth}from'./context/AuthContext';import HomePage from'./pages/HomePage';import Login from'./pages/Login';import Register from'./pages/Register';import DashboardLayout from'./components/DashboardLayout';import StudentDashboard from'./pages/StudentDashboard';import MyAssessments from'./pages/MyAssessments';import Reports from'./pages/Reports';import MyCourse from'./pages/MyCourse';import TakeTest from'./pages/TakeTest';import AdminSubjects from'./pages/AdminSubjects';import TeacherQuestions from'./pages/TeacherQuestions';import AdminUsers from'./pages/AdminUsers';import Profile from'./pages/Profile';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PrivateRoute(_ref){let{children,allowedRoles}=_ref;const{user,loading}=useAuth();if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading-screen\",children:\"Loading...\"});if(!user)return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});if(allowedRoles&&!allowedRoles.includes(user.role))return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true});return children;}function PublicOnly(_ref2){let{children}=_ref2;const{user,loading}=useAuth();if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading-screen\",children:\"Loading...\"});if(user)return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true});return children;}export default function App(){return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(PublicOnly,{children:/*#__PURE__*/_jsx(Login,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(PublicOnly,{children:/*#__PURE__*/_jsx(Register,{})})}),/*#__PURE__*/_jsxs(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(PrivateRoute,{allowedRoles:['student'],children:/*#__PURE__*/_jsx(DashboardLayout,{})}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(StudentDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"assessments\",element:/*#__PURE__*/_jsx(MyAssessments,{})}),/*#__PURE__*/_jsx(Route,{path:\"reports\",element:/*#__PURE__*/_jsx(Reports,{})}),/*#__PURE__*/_jsx(Route,{path:\"course\",element:/*#__PURE__*/_jsx(MyCourse,{})}),/*#__PURE__*/_jsx(Route,{path:\"test/:assessmentId\",element:/*#__PURE__*/_jsx(TakeTest,{})}),/*#__PURE__*/_jsx(Route,{path:\"profile\",element:/*#__PURE__*/_jsx(Profile,{})})]}),/*#__PURE__*/_jsxs(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(PrivateRoute,{allowedRoles:['admin'],children:/*#__PURE__*/_jsx(DashboardLayout,{})}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Navigate,{to:\"/admin/subjects\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"subjects\",element:/*#__PURE__*/_jsx(AdminSubjects,{})}),/*#__PURE__*/_jsx(Route,{path:\"users\",element:/*#__PURE__*/_jsx(AdminUsers,{})}),/*#__PURE__*/_jsx(Route,{path:\"profile\",element:/*#__PURE__*/_jsx(Profile,{})})]}),/*#__PURE__*/_jsxs(Route,{path:\"/teacher\",element:/*#__PURE__*/_jsx(PrivateRoute,{allowedRoles:['teacher'],children:/*#__PURE__*/_jsx(DashboardLayout,{})}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Navigate,{to:\"/teacher/questions\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"questions\",element:/*#__PURE__*/_jsx(TeacherQuestions,{})}),/*#__PURE__*/_jsx(Route,{path:\"profile\",element:/*#__PURE__*/_jsx(Profile,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})});}","map":{"version":3,"names":["React","Routes","Route","Navigate","useAuth","HomePage","Login","Register","DashboardLayout","StudentDashboard","MyAssessments","Reports","MyCourse","TakeTest","AdminSubjects","TeacherQuestions","AdminUsers","Profile","jsx","_jsx","jsxs","_jsxs","PrivateRoute","_ref","children","allowedRoles","user","loading","className","to","replace","includes","role","PublicOnly","_ref2","App","path","element","index"],"sources":["C:/Users/imaya/OneDrive/Desktop/project 2/client/src/App.js"],"sourcesContent":["import React from 'react';\r\nimport { Routes, Route, Navigate } from 'react-router-dom';\r\nimport { useAuth } from './context/AuthContext';\r\n\r\nimport HomePage from './pages/HomePage';\r\nimport Login from './pages/Login';\r\nimport Register from './pages/Register';\r\nimport DashboardLayout from './components/DashboardLayout';\r\nimport StudentDashboard from './pages/StudentDashboard';\r\nimport MyAssessments from './pages/MyAssessments';\r\nimport Reports from './pages/Reports';\r\nimport MyCourse from './pages/MyCourse';\r\nimport TakeTest from './pages/TakeTest';\r\nimport AdminSubjects from './pages/AdminSubjects';\r\nimport TeacherQuestions from './pages/TeacherQuestions';\r\nimport AdminUsers from './pages/AdminUsers';\r\nimport Profile from './pages/Profile';\r\n\r\nfunction PrivateRoute({ children, allowedRoles }) {\r\n  const { user, loading } = useAuth();\r\n  if (loading) return <div className=\"loading-screen\">Loading...</div>;\r\n  if (!user) return <Navigate to=\"/login\" replace />;\r\n  if (allowedRoles && !allowedRoles.includes(user.role)) return <Navigate to=\"/dashboard\" replace />;\r\n  return children;\r\n}\r\n\r\nfunction PublicOnly({ children }) {\r\n  const { user, loading } = useAuth();\r\n  if (loading) return <div className=\"loading-screen\">Loading...</div>;\r\n  if (user) return <Navigate to=\"/dashboard\" replace />;\r\n  return children;\r\n}\r\n\r\nexport default function App() {\r\n  return (\r\n    <div className=\"app\">\r\n      <Routes>\r\n        <Route path=\"/\" element={<HomePage />} />\r\n        <Route path=\"/login\" element={<PublicOnly><Login /></PublicOnly>} />\r\n        <Route path=\"/register\" element={<PublicOnly><Register /></PublicOnly>} />\r\n\r\n        <Route path=\"/dashboard\" element={\r\n          <PrivateRoute allowedRoles={['student']}>\r\n            <DashboardLayout />\r\n          </PrivateRoute>\r\n        }>\r\n          <Route index element={<StudentDashboard />} />\r\n          <Route path=\"assessments\" element={<MyAssessments />} />\r\n          <Route path=\"reports\" element={<Reports />} />\r\n          <Route path=\"course\" element={<MyCourse />} />\r\n          <Route path=\"test/:assessmentId\" element={<TakeTest />} />\r\n          <Route path=\"profile\" element={<Profile />} />\r\n        </Route>\r\n\r\n        <Route path=\"/admin\" element={\r\n          <PrivateRoute allowedRoles={['admin']}>\r\n            <DashboardLayout />\r\n          </PrivateRoute>\r\n        }>\r\n          <Route index element={<Navigate to=\"/admin/subjects\" replace />} />\r\n          <Route path=\"subjects\" element={<AdminSubjects />} />\r\n          <Route path=\"users\" element={<AdminUsers />} />\r\n          <Route path=\"profile\" element={<Profile />} />\r\n        </Route>\r\n\r\n        <Route path=\"/teacher\" element={\r\n          <PrivateRoute allowedRoles={['teacher']}>\r\n            <DashboardLayout />\r\n          </PrivateRoute>\r\n        }>\r\n          <Route index element={<Navigate to=\"/teacher/questions\" replace />} />\r\n          <Route path=\"questions\" element={<TeacherQuestions />} />\r\n          <Route path=\"profile\" element={<Profile />} />\r\n        </Route>\r\n\r\n        <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\r\n      </Routes>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CAC1D,OAASC,OAAO,KAAQ,uBAAuB,CAE/C,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,KAAK,KAAM,eAAe,CACjC,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,eAAe,KAAM,8BAA8B,CAC1D,MAAO,CAAAC,gBAAgB,KAAM,0BAA0B,CACvD,MAAO,CAAAC,aAAa,KAAM,uBAAuB,CACjD,MAAO,CAAAC,OAAO,KAAM,iBAAiB,CACrC,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,aAAa,KAAM,uBAAuB,CACjD,MAAO,CAAAC,gBAAgB,KAAM,0BAA0B,CACvD,MAAO,CAAAC,UAAU,KAAM,oBAAoB,CAC3C,MAAO,CAAAC,OAAO,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtC,QAAS,CAAAC,YAAYA,CAAAC,IAAA,CAA6B,IAA5B,CAAEC,QAAQ,CAAEC,YAAa,CAAC,CAAAF,IAAA,CAC9C,KAAM,CAAEG,IAAI,CAAEC,OAAQ,CAAC,CAAGvB,OAAO,CAAC,CAAC,CACnC,GAAIuB,OAAO,CAAE,mBAAOR,IAAA,QAAKS,SAAS,CAAC,gBAAgB,CAAAJ,QAAA,CAAC,YAAU,CAAK,CAAC,CACpE,GAAI,CAACE,IAAI,CAAE,mBAAOP,IAAA,CAAChB,QAAQ,EAAC0B,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CAClD,GAAIL,YAAY,EAAI,CAACA,YAAY,CAACM,QAAQ,CAACL,IAAI,CAACM,IAAI,CAAC,CAAE,mBAAOb,IAAA,CAAChB,QAAQ,EAAC0B,EAAE,CAAC,YAAY,CAACC,OAAO,MAAE,CAAC,CAClG,MAAO,CAAAN,QAAQ,CACjB,CAEA,QAAS,CAAAS,UAAUA,CAAAC,KAAA,CAAe,IAAd,CAAEV,QAAS,CAAC,CAAAU,KAAA,CAC9B,KAAM,CAAER,IAAI,CAAEC,OAAQ,CAAC,CAAGvB,OAAO,CAAC,CAAC,CACnC,GAAIuB,OAAO,CAAE,mBAAOR,IAAA,QAAKS,SAAS,CAAC,gBAAgB,CAAAJ,QAAA,CAAC,YAAU,CAAK,CAAC,CACpE,GAAIE,IAAI,CAAE,mBAAOP,IAAA,CAAChB,QAAQ,EAAC0B,EAAE,CAAC,YAAY,CAACC,OAAO,MAAE,CAAC,CACrD,MAAO,CAAAN,QAAQ,CACjB,CAEA,cAAe,SAAS,CAAAW,GAAGA,CAAA,CAAG,CAC5B,mBACEhB,IAAA,QAAKS,SAAS,CAAC,KAAK,CAAAJ,QAAA,cAClBH,KAAA,CAACpB,MAAM,EAAAuB,QAAA,eACLL,IAAA,CAACjB,KAAK,EAACkC,IAAI,CAAC,GAAG,CAACC,OAAO,cAAElB,IAAA,CAACd,QAAQ,GAAE,CAAE,CAAE,CAAC,cACzCc,IAAA,CAACjB,KAAK,EAACkC,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAElB,IAAA,CAACc,UAAU,EAAAT,QAAA,cAACL,IAAA,CAACb,KAAK,GAAE,CAAC,CAAY,CAAE,CAAE,CAAC,cACpEa,IAAA,CAACjB,KAAK,EAACkC,IAAI,CAAC,WAAW,CAACC,OAAO,cAAElB,IAAA,CAACc,UAAU,EAAAT,QAAA,cAACL,IAAA,CAACZ,QAAQ,GAAE,CAAC,CAAY,CAAE,CAAE,CAAC,cAE1Ec,KAAA,CAACnB,KAAK,EAACkC,IAAI,CAAC,YAAY,CAACC,OAAO,cAC9BlB,IAAA,CAACG,YAAY,EAACG,YAAY,CAAE,CAAC,SAAS,CAAE,CAAAD,QAAA,cACtCL,IAAA,CAACX,eAAe,GAAE,CAAC,CACP,CACf,CAAAgB,QAAA,eACCL,IAAA,CAACjB,KAAK,EAACoC,KAAK,MAACD,OAAO,cAAElB,IAAA,CAACV,gBAAgB,GAAE,CAAE,CAAE,CAAC,cAC9CU,IAAA,CAACjB,KAAK,EAACkC,IAAI,CAAC,aAAa,CAACC,OAAO,cAAElB,IAAA,CAACT,aAAa,GAAE,CAAE,CAAE,CAAC,cACxDS,IAAA,CAACjB,KAAK,EAACkC,IAAI,CAAC,SAAS,CAACC,OAAO,cAAElB,IAAA,CAACR,OAAO,GAAE,CAAE,CAAE,CAAC,cAC9CQ,IAAA,CAACjB,KAAK,EAACkC,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAElB,IAAA,CAACP,QAAQ,GAAE,CAAE,CAAE,CAAC,cAC9CO,IAAA,CAACjB,KAAK,EAACkC,IAAI,CAAC,oBAAoB,CAACC,OAAO,cAAElB,IAAA,CAACN,QAAQ,GAAE,CAAE,CAAE,CAAC,cAC1DM,IAAA,CAACjB,KAAK,EAACkC,IAAI,CAAC,SAAS,CAACC,OAAO,cAAElB,IAAA,CAACF,OAAO,GAAE,CAAE,CAAE,CAAC,EACzC,CAAC,cAERI,KAAA,CAACnB,KAAK,EAACkC,IAAI,CAAC,QAAQ,CAACC,OAAO,cAC1BlB,IAAA,CAACG,YAAY,EAACG,YAAY,CAAE,CAAC,OAAO,CAAE,CAAAD,QAAA,cACpCL,IAAA,CAACX,eAAe,GAAE,CAAC,CACP,CACf,CAAAgB,QAAA,eACCL,IAAA,CAACjB,KAAK,EAACoC,KAAK,MAACD,OAAO,cAAElB,IAAA,CAAChB,QAAQ,EAAC0B,EAAE,CAAC,iBAAiB,CAACC,OAAO,MAAE,CAAE,CAAE,CAAC,cACnEX,IAAA,CAACjB,KAAK,EAACkC,IAAI,CAAC,UAAU,CAACC,OAAO,cAAElB,IAAA,CAACL,aAAa,GAAE,CAAE,CAAE,CAAC,cACrDK,IAAA,CAACjB,KAAK,EAACkC,IAAI,CAAC,OAAO,CAACC,OAAO,cAAElB,IAAA,CAACH,UAAU,GAAE,CAAE,CAAE,CAAC,cAC/CG,IAAA,CAACjB,KAAK,EAACkC,IAAI,CAAC,SAAS,CAACC,OAAO,cAAElB,IAAA,CAACF,OAAO,GAAE,CAAE,CAAE,CAAC,EACzC,CAAC,cAERI,KAAA,CAACnB,KAAK,EAACkC,IAAI,CAAC,UAAU,CAACC,OAAO,cAC5BlB,IAAA,CAACG,YAAY,EAACG,YAAY,CAAE,CAAC,SAAS,CAAE,CAAAD,QAAA,cACtCL,IAAA,CAACX,eAAe,GAAE,CAAC,CACP,CACf,CAAAgB,QAAA,eACCL,IAAA,CAACjB,KAAK,EAACoC,KAAK,MAACD,OAAO,cAAElB,IAAA,CAAChB,QAAQ,EAAC0B,EAAE,CAAC,oBAAoB,CAACC,OAAO,MAAE,CAAE,CAAE,CAAC,cACtEX,IAAA,CAACjB,KAAK,EAACkC,IAAI,CAAC,WAAW,CAACC,OAAO,cAAElB,IAAA,CAACJ,gBAAgB,GAAE,CAAE,CAAE,CAAC,cACzDI,IAAA,CAACjB,KAAK,EAACkC,IAAI,CAAC,SAAS,CAACC,OAAO,cAAElB,IAAA,CAACF,OAAO,GAAE,CAAE,CAAE,CAAC,EACzC,CAAC,cAERE,IAAA,CAACjB,KAAK,EAACkC,IAAI,CAAC,GAAG,CAACC,OAAO,cAAElB,IAAA,CAAChB,QAAQ,EAAC0B,EAAE,CAAC,GAAG,CAACC,OAAO,MAAE,CAAE,CAAE,CAAC,EAClD,CAAC,CACN,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}