{"ast":null,"code":"import _objectSpread from\"C:/Users/imaya/OneDrive/Desktop/project 2/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import api from'../api';import'./TakeTest.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function TakeTest(){var _assessment$subject;const{assessmentId}=useParams();const navigate=useNavigate();const{user}=useAuth();const[message,setMessage]=useState('');const[assessment,setAssessment]=useState(null);const[answers,setAnswers]=useState({});const[currentIndex,setCurrentIndex]=useState(0);const[loading,setLoading]=useState(true);const[submitting,setSubmitting]=useState(false);const[error,setError]=useState('');const[timeLeft,setTimeLeft]=useState(null);useEffect(()=>{if(user&&user.role!=='student'){setLoading(false);setError('Only students can take assessments.');return;}if(!user){setLoading(false);return;}api.get(\"/assessments/\".concat(assessmentId,\"/attempt\")).then(res=>{if(!res.data||!res.data.questions||res.data.questions.length===0){setError('This assessment has no questions yet. Please contact your teacher.');setLoading(false);return;}setAssessment(res.data);setAnswers(res.data.draftAnswers||{});setTimeLeft(res.data.durationMinutes*60);setError('');setLoading(false);}).catch(err=>{var _err$response,_err$response$data,_err$response2,_err$response3,_err$response4;const message=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||(((_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.status)===403?'Only students can take assessments.':((_err$response3=err.response)===null||_err$response3===void 0?void 0:_err$response3.status)===404?'Assessment not found.':'Could not load assessment. Please try again.');setError(message);setLoading(false);if((user===null||user===void 0?void 0:user.role)==='student'&&((_err$response4=err.response)===null||_err$response4===void 0?void 0:_err$response4.status)!==400){setTimeout(()=>navigate('/dashboard/assessments'),2000);}});},[assessmentId,navigate,user]);useEffect(()=>{if(timeLeft===null||submitting)return;if(timeLeft===0){handleSubmit();return;}const timer=setInterval(()=>{setTimeLeft(prev=>prev-1);},1000);return()=>clearInterval(timer);},[timeLeft,submitting]);const formatTime=seconds=>{const m=Math.floor(seconds/60);const s=seconds%60;return\"\".concat(m,\":\").concat(s<10?'0':'').concat(s);};const handleOptionSelect=(questionId,option)=>{setAnswers(prev=>_objectSpread(_objectSpread({},prev),{},{[questionId]:option}));};const handleSubmit=async function(){let isFinal=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(!assessment)return;setSubmitting(true);try{await api.post('/results/submit',{assessmentId,answers,isFinal});if(isFinal){navigate('/dashboard/reports');}else{setMessage('Progress saved.');setTimeout(()=>setMessage(''),3000);}}catch(err){var _err$response5,_err$response5$data;alert(((_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.message)||'Save failed');}finally{setSubmitting(false);}};if(loading&&!error)return/*#__PURE__*/_jsx(\"div\",{className:\"page-loading\",children:\"Loading assessment and questions...\"});if(error&&!assessment){return/*#__PURE__*/_jsx(\"div\",{className:\"take-test take-test-error\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{padding:24},children:[/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:()=>navigate((user===null||user===void 0?void 0:user.role)==='teacher'?'/teacher/questions':(user===null||user===void 0?void 0:user.role)==='admin'?'/admin/subjects':'/dashboard/assessments'),children:\"Go back\"})]})});}if(!assessment)return/*#__PURE__*/_jsx(\"div\",{className:\"page-loading\",children:\"Loading assessment...\"});const questions=(assessment===null||assessment===void 0?void 0:assessment.questions)||[];const current=questions.length>0&&currentIndex<questions.length?questions[currentIndex]:null;const options=current&&Array.isArray(current.options)&&current.options.length>0?current.options:[];const answeredCount=Object.keys(answers).length;const allAnswered=questions.length>0&&answeredCount===questions.length;return/*#__PURE__*/_jsxs(\"div\",{className:\"take-test\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"test-header card\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:assessment.title}),/*#__PURE__*/_jsxs(\"p\",{children:[(_assessment$subject=assessment.subject)===null||_assessment$subject===void 0?void 0:_assessment$subject.name,\" \\u2022 \",questions.length,\" questions\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"test-meta-right\",style:{textAlign:'right'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"test-timer \".concat(timeLeft<300?'timer-warning':''),children:[\"Time Left: \",timeLeft!==null?formatTime(timeLeft):'--:--']}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary finish-btn\",onClick:()=>handleSubmit(true),disabled:submitting,style:{marginTop:'0.5rem'},children:submitting?'Submitting...':'Finish'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"test-progress\",children:[\"Question \",currentIndex+1,\" of \",questions.length,\" \\u2022 Answered: \",answeredCount]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"test-body card\",children:current&&current.questionText?/*#__PURE__*/_jsxs(_Fragment,{children:[message&&/*#__PURE__*/_jsx(\"div\",{className:\"test-msg success\",children:message}),/*#__PURE__*/_jsxs(\"div\",{className:\"question-block\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"question-text\",children:current.questionText}),current.difficulty&&/*#__PURE__*/_jsx(\"p\",{className:\"question-difficulty\",children:current.difficulty}),options.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"options-list\",children:options.map((opt,i)=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"option-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"q-\".concat(current._id),checked:answers[current._id]===opt,onChange:()=>handleOptionSelect(current._id,opt)}),/*#__PURE__*/_jsx(\"span\",{children:opt})]})},i))}):/*#__PURE__*/_jsx(\"p\",{className:\"no-options\",children:\"No options available for this question.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"test-nav\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",disabled:currentIndex===0,onClick:()=>setCurrentIndex(i=>i-1),children:\"Previous\"}),currentIndex<questions.length-1?/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:()=>setCurrentIndex(i=>i+1),children:\"Next\"}):/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",disabled:submitting,onClick:()=>handleSubmit(false),children:submitting?'Saving...':'Save'})]})]}):questions.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No questions in this assessment. Please contact your teacher.\"}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading question...\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"test-quick-nav card\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Jump to question:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"quick-dots\",children:questions.map((q,i)=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"quick-dot \".concat(i===currentIndex?'active':'',\" \").concat(answers[q._id]?'answered':''),onClick:()=>setCurrentIndex(i),title:\"Question \".concat(i+1),children:i+1},q._id))})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useAuth","api","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TakeTest","_assessment$subject","assessmentId","navigate","user","message","setMessage","assessment","setAssessment","answers","setAnswers","currentIndex","setCurrentIndex","loading","setLoading","submitting","setSubmitting","error","setError","timeLeft","setTimeLeft","role","get","concat","then","res","data","questions","length","draftAnswers","durationMinutes","catch","err","_err$response","_err$response$data","_err$response2","_err$response3","_err$response4","response","status","setTimeout","handleSubmit","timer","setInterval","prev","clearInterval","formatTime","seconds","m","Math","floor","s","handleOptionSelect","questionId","option","_objectSpread","isFinal","arguments","undefined","post","_err$response5","_err$response5$data","alert","className","children","style","padding","type","onClick","current","options","Array","isArray","answeredCount","Object","keys","allAnswered","display","justifyContent","alignItems","title","subject","name","textAlign","disabled","marginTop","questionText","difficulty","map","opt","i","_id","checked","onChange","q"],"sources":["C:/Users/imaya/OneDrive/Desktop/project 2/client/src/pages/TakeTest.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport api from '../api';\r\nimport './TakeTest.css';\r\n\r\nexport default function TakeTest() {\r\n  const { assessmentId } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const [message, setMessage] = useState('');\r\n  const [assessment, setAssessment] = useState(null);\r\n  const [answers, setAnswers] = useState({});\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [timeLeft, setTimeLeft] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (user && user.role !== 'student') {\r\n      setLoading(false);\r\n      setError('Only students can take assessments.');\r\n      return;\r\n    }\r\n    if (!user) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    api.get(`/assessments/${assessmentId}/attempt`)\r\n      .then(res => {\r\n        if (!res.data || !res.data.questions || res.data.questions.length === 0) {\r\n          setError('This assessment has no questions yet. Please contact your teacher.');\r\n          setLoading(false);\r\n          return;\r\n        }\r\n        setAssessment(res.data);\r\n        setAnswers(res.data.draftAnswers || {});\r\n        setTimeLeft(res.data.durationMinutes * 60);\r\n        setError('');\r\n        setLoading(false);\r\n      })\r\n      .catch(err => {\r\n        const message = err.response?.data?.message ||\r\n          (err.response?.status === 403 ? 'Only students can take assessments.' :\r\n            err.response?.status === 404 ? 'Assessment not found.' :\r\n              'Could not load assessment. Please try again.');\r\n        setError(message);\r\n        setLoading(false);\r\n        if (user?.role === 'student' && err.response?.status !== 400) {\r\n          setTimeout(() => navigate('/dashboard/assessments'), 2000);\r\n        }\r\n      });\r\n  }, [assessmentId, navigate, user]);\r\n\r\n  useEffect(() => {\r\n    if (timeLeft === null || submitting) return;\r\n    if (timeLeft === 0) {\r\n      handleSubmit();\r\n      return;\r\n    }\r\n    const timer = setInterval(() => {\r\n      setTimeLeft(prev => prev - 1);\r\n    }, 1000);\r\n    return () => clearInterval(timer);\r\n  }, [timeLeft, submitting]);\r\n\r\n  const formatTime = (seconds) => {\r\n    const m = Math.floor(seconds / 60);\r\n    const s = seconds % 60;\r\n    return `${m}:${s < 10 ? '0' : ''}${s}`;\r\n  };\r\n\r\n  const handleOptionSelect = (questionId, option) => {\r\n    setAnswers(prev => ({ ...prev, [questionId]: option }));\r\n  };\r\n\r\n  const handleSubmit = async (isFinal = true) => {\r\n    if (!assessment) return;\r\n    setSubmitting(true);\r\n    try {\r\n      await api.post('/results/submit', { assessmentId, answers, isFinal });\r\n      if (isFinal) {\r\n        navigate('/dashboard/reports');\r\n      } else {\r\n        setMessage('Progress saved.');\r\n        setTimeout(() => setMessage(''), 3000);\r\n      }\r\n    } catch (err) {\r\n      alert(err.response?.data?.message || 'Save failed');\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (loading && !error) return <div className=\"page-loading\">Loading assessment and questions...</div>;\r\n  if (error && !assessment) {\r\n    return (\r\n      <div className=\"take-test take-test-error\">\r\n        <div className=\"card\" style={{ padding: 24 }}>\r\n          <p>{error}</p>\r\n          <button type=\"button\" className=\"btn btn-primary\" onClick={() => navigate(user?.role === 'teacher' ? '/teacher/questions' : user?.role === 'admin' ? '/admin/subjects' : '/dashboard/assessments')}>\r\n            Go back\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  if (!assessment) return <div className=\"page-loading\">Loading assessment...</div>;\r\n\r\n  const questions = assessment?.questions || [];\r\n  const current = questions.length > 0 && currentIndex < questions.length ? questions[currentIndex] : null;\r\n  const options = current && Array.isArray(current.options) && current.options.length > 0 ? current.options : [];\r\n  const answeredCount = Object.keys(answers).length;\r\n  const allAnswered = questions.length > 0 && answeredCount === questions.length;\r\n\r\n  return (\r\n    <div className=\"take-test\">\r\n      <div className=\"test-header card\">\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\r\n          <div>\r\n            <h1>{assessment.title}</h1>\r\n            <p>{assessment.subject?.name} • {questions.length} questions</p>\r\n          </div>\r\n          <div className=\"test-meta-right\" style={{ textAlign: 'right' }}>\r\n            <div className={`test-timer ${timeLeft < 300 ? 'timer-warning' : ''}`}>\r\n              Time Left: {timeLeft !== null ? formatTime(timeLeft) : '--:--'}\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary finish-btn\"\r\n              onClick={() => handleSubmit(true)}\r\n              disabled={submitting}\r\n              style={{ marginTop: '0.5rem' }}\r\n            >\r\n              {submitting ? 'Submitting...' : 'Finish'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"test-progress\">\r\n          Question {currentIndex + 1} of {questions.length} • Answered: {answeredCount}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"test-body card\">\r\n        {current && current.questionText ? (\r\n          <>\r\n            {message && <div className=\"test-msg success\">{message}</div>}\r\n            <div className=\"question-block\">\r\n              <h2 className=\"question-text\">{current.questionText}</h2>\r\n              {current.difficulty && <p className=\"question-difficulty\">{current.difficulty}</p>}\r\n              {options.length > 0 ? (\r\n                <ul className=\"options-list\">\r\n                  {options.map((opt, i) => (\r\n                    <li key={i}>\r\n                      <label className=\"option-label\">\r\n                        <input\r\n                          type=\"radio\"\r\n                          name={`q-${current._id}`}\r\n                          checked={answers[current._id] === opt}\r\n                          onChange={() => handleOptionSelect(current._id, opt)}\r\n                        />\r\n                        <span>{opt}</span>\r\n                      </label>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              ) : (\r\n                <p className=\"no-options\">No options available for this question.</p>\r\n              )}\r\n            </div>\r\n            <div className=\"test-nav\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary\"\r\n                disabled={currentIndex === 0}\r\n                onClick={() => setCurrentIndex(i => i - 1)}\r\n              >\r\n                Previous\r\n              </button>\r\n              {currentIndex < questions.length - 1 ? (\r\n                <button type=\"button\" className=\"btn btn-primary\" onClick={() => setCurrentIndex(i => i + 1)}>\r\n                  Next\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary\"\r\n                  disabled={submitting}\r\n                  onClick={() => handleSubmit(false)}\r\n                >\r\n                  {submitting ? 'Saving...' : 'Save'}\r\n                </button>\r\n              )}\r\n            </div>\r\n          </>\r\n        ) : questions.length === 0 ? (\r\n          <p>No questions in this assessment. Please contact your teacher.</p>\r\n        ) : (\r\n          <p>Loading question...</p>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"test-quick-nav card\">\r\n        <p>Jump to question:</p>\r\n        <div className=\"quick-dots\">\r\n          {questions.map((q, i) => (\r\n            <button\r\n              key={q._id}\r\n              type=\"button\"\r\n              className={`quick-dot ${i === currentIndex ? 'active' : ''} ${answers[q._id] ? 'answered' : ''}`}\r\n              onClick={() => setCurrentIndex(i)}\r\n              title={`Question ${i + 1}`}\r\n            >\r\n              {i + 1}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}